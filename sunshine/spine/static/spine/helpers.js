// Generated by CoffeeScript 1.3.1
(function() {
  var csrfToken, isMoneyKey, isNumberKey,
    _this = this;

  $.query = function(query_data) {
    return {
      data: JSON.stringify(query_data || {})
    };
  };

  $.getCookies = function() {
    var attr_name, cookie, cookies, value, _i, _len, _ref, _ref1;
    cookies = {};
    _ref = document.cookie.split('; ');
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      cookie = _ref[_i];
      _ref1 = cookie.split('='), attr_name = _ref1[0], value = _ref1[1];
      cookies[attr_name] = value;
    }
    return cookies;
  };

  $.render = function(template, data) {
    return jQuery(jQuery.jqote(template, data));
  };

  $.fn.setChecked = function(value) {
    if (value) {
      return this.attr('checked', 'checked');
    } else {
      return this.removeAttr('checked');
    }
  };

  isNumberKey = function(event) {
    var charCode;
    charCode = event.which || event.keyCode;
    if (charCode > 31 && (charCode < 48 || charCode > 57)) {
      return false;
    }
    return true;
  };

  isMoneyKey = function(event) {
    var charCode;
    charCode = event.which || event.keyCode;
    if (charCode > 31 && (charCode < 48 || charCode > 57) && charCode !== 46) {
      return false;
    }
    return true;
  };

  csrfToken = $.getCookies()['csrftoken'];

  $(document).ajaxSend(function(e, xhr, settings) {
    return xhr.setRequestHeader('X-CSRFToken', csrfToken);
  });

  $(function() {
    var float, number, _i, _j, _len, _len1, _ref, _ref1, _results;
    _ref = ['input.number', 'input[name="phone"]', 'input[name="cellphone"]', 'input[name="social_security_number"]', 'input.vIntegerField'];
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      number = _ref[_i];
      $(number).live('keypress', isNumberKey);
    }
    _ref1 = ['input[name="salary"]', 'input.money'];
    _results = [];
    for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
      float = _ref1[_j];
      _results.push($(float).live('keypress', isMoneyKey));
    }
    return _results;
  });

}).call(this);
